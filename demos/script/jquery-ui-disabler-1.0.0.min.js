(function(a,b){var c="disabler-ignore-readonly";var d="disabler-hide-readonly";var e="disabler-show-text-readonly";var f="panels-date-picker";var g="ui-state-disabled";var h="disabler-read-only-text";var i="disabler-read-only-remove-me";var j="disabler-read-only";var k="disabler-hidden-inputs";var l="disabler-anchor-href";var m="disabler-saved-events";var n="data-disabler-read-only-display";a.widget("ui.disabler",{options:{disable:false,readonly:false,beforeDisable:function(a,b){return true},afterDisable:function(a,b){},beforeReadOnly:function(a,b){return true},readOnlyIteration:function(a,b){return true},afterReadOnly:function(a,b){},processHiddenInputsReadOnly:function(a,b){},processHiddenInputsNotReadOnlyIteration:function(a,b){}},_create:function(){if(this.options.disable){this._setOption("disable",this.options.disable)}if(this.options.readonly){this._setOption("readonly",this.options.readonly)}},_setOption:function(a,b){this.options[a]=b;var c=this.element.attr("id");switch(a){case"disable":this._doDisable(c,b);break;case"readonly":this.readOnly(c,this.options.readonly);break}},_getIdOrBust:function(b){if(this._isNullOrUndefined(b)){b=this.element.attr("id")}if(this._isNullOrUndefined(b)||a.trim(b).length==0){throw'You must supply an ID value or the container in which this plugin is acting against must have an "id" attribute with value. You supplied '+b}return b},enable:function(a){a=this._getIdOrBust(a);this._doDisable(a,false)},disable:function(a){a=this._getIdOrBust(a);this._doDisable(a,true)},_doDisable:function(b,c){var d=this._escape(b);var e=this._trigger("beforeDisable",null,{containerId:d,disabledFlag:c,element:this.element});if(e){if(c){this.readOnlyUseDefaults(b,true);a("#"+d).addClass("ui-state-disabled")}else{a("#"+d).removeClass("ui-state-disabled");this.readOnlyUseDefaults(b,false)}this.options.disable=c;this._trigger("afterDisable",null,{containerId:d,disabledFlag:c,element:this.element})}},readOnly:function(a,b){a=this._getIdOrBust(a);b=this._defaultReadOnlyFlag(b);this._doReadOnly(a,b,false)},_defaultReadOnlyFlag:function(a){if(a==b){a=true}return a},readOnlyUseDefaults:function(a,b){a=this._getIdOrBust(a);b=this._defaultReadOnlyFlag(b);this._doReadOnly(a,b,true)},_doReadOnly:function(d,e,f){var h=this._escape(d);var i=this._trigger("beforeReadOnly",null,{containerId:h,readOnlyFlag:e,useDefaults:f,element:this.element});if(!i){return}if(e==b||this.element.hasClass(g)){return}var j=[];var k=this._formatSelectorForContainerId(h);var l=a(k);if(l.length==0){return}if(this._isInputControl(l)){this._doReadOnlyIteration(l,e,j,f)}var m=this;l.find("*").each(function(d){var g=a(this);var i=m._trigger("readOnlyIteration",null,{input:g,index:d,containerId:h,readOnlyFlag:e,useDefaults:f,element:m.element});if(!i||g.hasClass(c)){return true}var k=g.data("disabler");if(k!=b){}m._doReadOnlyIteration(g,e,j,f)});this._processHiddenInputsOnReadOnly(h,e,j);this.options.readonly=e;this._trigger("afterReadOnly",null,{containerId:h,readOnlyFlag:e,useDefaults:f,element:this.element})},_isInputControl:function(a){var b=this._whatTypeAmI(a);return b=="a"||b=="submit"||b=="button"||b=="select"||b=="checkbox"||b=="radio"||b=="text"||b=="textarea"},_whatTypeAmI:function(a){var c=a.attr("type");if(c==b){if(a[0]==b){c=""}else{c=a[0].tagName}}return c.toLowerCase()},_doReadOnlyIteration:function(a,b,c,d){if(b){this._turnReadOnlyOn(a,c,d)}else{this._turnReadOnlyOff(a)}},_turnReadOnlyOn:function(a,c,h){var i=this._whatTypeAmI(a);if(a.data(j)!=b){return}if(a.attr("readonly")!=b||a.attr("disabled")!=b){return}if((a.hasClass("hasDatepicker")||a.hasClass(f))&&a.datepicker("option","disabled")){return}a.data(j,true);if(!h){if(a.hasClass(d)){c.push(a);a.hide();return}if(a.hasClass(e)){this._showTextReadOnly(a,i);return}}if(i=="a"){this._disableLink(a)}else if(i=="submit"||i=="button"){a.attr("disabled","true");a.addClass(g)}else if(i=="select"||i=="checkbox"||i=="radio"){this._disableEvents(a);a.attr("disabled","true");a.addClass(g)}else if(a.hasClass("hasDatepicker")||a.hasClass(f)){a.attr("disabled","true");a.addClass(g);a.datepicker("disable")}else if(i=="text"||i=="textarea"){a.attr("readonly","readonly");a.attr("disabled","true");a.addClass(g)}else{this._disableEvents(a)}},_showTextReadOnly:function(c,d){var e="";var f="";if(d=="a"){f=c.text()}else if(d=="text"||d=="textarea"){f=c.val()}else if(d=="radio"||d=="checkbox"){if(c.attr("checked")!=b){f=c.attr(n);if(f==b){f=c.val()}e=c.parent().attr(n);if(e!=b){f=e}}}else if(d=="select"){var g=[];c.find("option:selected").each(function(c){var d=a(this);var e=d.attr(n);if(e==b){e=d.text()}g.push(e)});f=g.join(", ")}c.wrap('<span class="'+h+'"></span>');c.parent("span."+h).data(j,true);c.parent().after('<span class="'+i+'">'+f+"</span>");c.hide()},_turnReadOnlyOff:function(a){if(a.data(j)==b){return}a.removeData(j);if(a.hasClass(h)){var c=a.next("span."+i);c.remove();var d=a.children();d.unwrap();d.show();return}var e=this._whatTypeAmI(a);if(e=="a"){this._enableLink(a)}else if(e=="submit"||e=="button"){a.removeAttr("disabled");a.removeClass(g)}else if(e=="select"||e=="checkbox"||e=="radio"){this._enableEvents(a);a.removeAttr("disabled");a.removeClass(g)}else if(a.hasClass("hasDatepicker")||a.hasClass(f)){a.removeAttr("disabled");a.removeClass(g);a.datepicker("enable")}else if(e=="text"||e=="textarea"){a.removeAttr("readonly");a.removeAttr("disabled");a.removeClass(g)}else{this._enableEvents(a)}},_processHiddenInputsOnReadOnly:function(c,d,e){var f=this._escapeValue(this.element.attr("id"));if(d){if(e.length>0){a("#"+f).data(k,e)}this._trigger("processHiddenInputsReadOnly",null,{containerId:f,hiddenInput:h,element:this.element})}else{e=a("#"+f).data(k);if(e!=b){for(var g=0;g<e.length;g++){var h=e[g];h.show();this._trigger("processHiddenInputsNotReadOnlyIteration",null,{containerId:f,hiddenInput:h,element:this.element})}a("#"+f).removeData(k)}}},_disableLink:function(a){this._disableEvents(a);var c=a.attr("href");if(c!=b){a.data(l,c);a.attr("href","#")}a.on("click",function(a){a.preventDefault()});a.addClass(g)},_disableEvents:function(c){var d=c.data("events");if(d!=b){var e=[];a.each(d,function(c,d){a.each(d,function(a){var f=d[a];if(f!=b){var g={eventName:c,handler:f};e.push(g)}})});c.data(m,e);c.unbind()}},_enableLink:function(a){a.unbind();this._enableEvents(a);var c=a.data(l);if(c!=b){a.attr("href",c);a.removeData(l)}a.removeClass(g)},_enableEvents:function(c){var d=c.data(m);if(d!=b){a.each(d,function(a){var b=d[a];var e=b.eventName;var f=b.handler;c.on(e,f)})}},_escape:function(a){if(a==b){a=this.element.attr("id")}return this._escapeValue(a)},_escapeValue:function(a){a=a.replace(/\+/g,"\\+");a=a.replace(/\\/g,"\\");a=a.replace(/\//g,"\\/");a=a.replace(/!/g,"\\!");a=a.replace(/"/g,'\\"');a=a.replace(/#/g,"\\#");a=a.replace(/\$/g,"\\$");a=a.replace(/%/g,"\\%");a=a.replace(/&/g,"\\&");a=a.replace(/'/g,"\\'");a=a.replace(/\(/g,"\\(");a=a.replace(/\)/g,"\\)");a=a.replace(/\*/g,"\\*");a=a.replace(/,/g,"\\,");a=a.replace(/\./g,"\\.");a=a.replace(/:/g,"\\:");a=a.replace(/;/g,"\\;");a=a.replace(/\?/g,"\\?");a=a.replace(/@/g,"\\@");a=a.replace(/\[/g,"\\[");a=a.replace(/\]/g,"\\]");a=a.replace(/\^/g,"\\^");a=a.replace(/`/g,"\\`");a=a.replace(/\{/g,"\\{");a=a.replace(/\}/g,"\\}");a=a.replace(/\|/g,"\\|");a=a.replace(/\~/g,"\\~");return a},_isNotNullAndNotUndefined:function(a){return a!=b&&a!=null},_isNullOrUndefined:function(a){return a==null||a==b},_formatSelectorForContainerId:function(a){var b=this._escapeValue(this.element.attr("id"));if(b==a){a=null}var c="#"+a+" ";if(this._isNullOrUndefined(a)){c=""}if(c==""){c="#"+b}else{c="#"+b+" "+c}return c+" "}});a.extend(a.ui.disabler,{version:"1.0.0"})})(jQuery)